<h1><%= @cat.name %></h1>

<h3> Cat details </h3>
<table border="1">
  <tr>
    <th>Name</th>
    <th>Color</th>
    <th>Sex</th>
    <th>Age</th>
    <th>Description</th>
  </tr>
  <tr>
    <td><%= @cat.name %></td>
    <td><%= @cat.color %></td>
    <td><%= @cat.sex %></td>
    <td><%= @cat.age %></td>
    <td><%= @cat.description %></td>
  </tr>
</table>

<h3>Rentals</h3>
<table border = "1">
  <tr>
    <th>Start Date</th>
    <th>End Date</th>
    <th>Status</th>
    <th>Approve</th>
    <th>Deny</th>
  </tr>
    <% @cat.rental_requests.order(:start_date).each do |rental| %>
      <tr>
        <td><%= rental.start_date %></td>
        <td><%= rental.end_date %></td>
        <td><%= rental.status %></td>
        <td> <%= button_to "Approve", approve_url(rental), method: :patch if rental.pending?%> </td>
        <td> <%= button_to "Deny", deny_url(rental), method: :patch if rental.pending?%> </td>
      </tr>
    <% end  %>
</table>

<br>
<br>

<%= link_to "All cats", cats_url %>
<br />
<%= link_to "Edit cat", edit_cat_url(@cat) %>
<br>
<!-- For debugging: -->
<!-- <%= link_to "Rental request", new_cat_rental_request_url %> -->
